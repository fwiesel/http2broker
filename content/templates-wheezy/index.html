@extends("shared/master.html")
@require(backends)

@def head():
    <script type="text/javascript" src="static/app.js"></script>
@end

@def title():
    HTTP2 Broker - Index
@end

@def content():
    <h1>HTTP2 Broker</h1>
    <div id="backendbb">
    <h2>Backends</h2>
    <div id="backend" class="bb">
    @if backends:
        @for name, backend in backends.items():
            <div class="box" id="@name" onclick="select_backend(this)">
                <div class="tooltip">
                @name
                    <span>
                    @{backend.get('description', backend['module'])}
                    </span>
                </div>
            </div>
        @end
    @end
    </div>
    </div>
    <div id="sendbb" class="bb">
    <h2>Send Message</h2>
        <div id="send_field">
            <label for="txtSend">Send</label>
            <input id="txtSend" type="text" name="send"/>
            <input id="btnSend" type="button" value="Send" onclick="send_message(this);"/>
        </div>
    </div>
    <div id="streambb" class="bb">
    <h2>Received Messages</h2>
    <table id="stream_table">
        <thead><tr><th>Source</th><th>Message</th></tr></thead>
        <tbody id="stream"></tbody>
    </table>
    </div>
@end
